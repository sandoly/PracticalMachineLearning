---
title: Machine learning for predicting the quality of dumbbell curl exercise 
output: html_document
---
### Synopsis

In this report we aimed to create a prediction model on a dumbbell curl exercise dataset, provided from this source: [http://groupware.les.inf.puc-rio.br/har], which includes data from accelerometers on the belt, forearm, arm, and dumbbell of 6 participants, who performed the exercise correctly and incorrectly in 5 different ways. They collected 8 statistical measures (min, max, mean, variance, standard deviation, amplitude and skewness, kurtosis) for each of 3 Euler angles (pitch, roll and yaw) measured by 4 sensors at arm, forearm, belt and dumbbell. Each sensor consisted: an accelerometer, a gyro, and a magnetometer, 
  
First, we sliced the training set for cross-validation. Then, we examined the data to have information about the variables and their interrelationship.  We omitted variables of sensors intuitively that may not contribute in the correct execution of the dumbbell curl exercise. Then, we applied random forest classification on the selected features set of the training data. Finally we applied our random classification on the test set, and evaluated the accuracy of the result.

The training data for this project are available here: 
[https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv]

The test data are available here: 
[https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv]

### Examination and Preprocessing 

We took the training (pml-training.csv) data and partitioned: 70 percentage of data went to training, 30% of samples went to testing that we set aside in order to get one clean unbiased estimate of out-of-sample error at the end.
After visualizing the data with matrixplot() from the VIM package, we identified a pattern of the NA values, in orange color, which makes large percentage of the data. (Figure1.) 
![NA_values_visualized](./Rplot.png)

Every row includes instantaneous measures of the 4 sensors (arm, forearm, belt and dumbbell), but only certain rows - those starting a new time window - include values for the statistical measures (min, max, mean, variance, standard deviation, amplitude and skewness, kurtosis). 

Doing dumbbell curl exercise correctly is basically a planar arc with no movement in hips or upper arm, therefore we could omit data from arm and belt sensors. What is left are 3 Euler angles (pitch, roll and yaw) for the accelerometer, the gyro, and the magnetometer of the remaining two sensors placed on the forearm and dumbbell. 

### Recognition Performance

Because of the large number of predictors, 26 , we used a Random Forest approach. We used 500 random forests and each forest was implemented with square root of the number of predictors - tree.

The cross-validation error rate generated by the random forest algorithm as part of the training process, out-of-bag (OOB) estimate of error rate, was 3.41%. Then we applied our random forest classification on the test set we set aside previously from the original training set(30%) to get one clean unbiased estimate of out-of-sample error. The accuracy was 97.43% with 95% CI : (0.97, 0.9782) and P-Value < 2.2e-16.


 
